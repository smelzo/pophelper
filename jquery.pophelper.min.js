!(function(b){mutate_event_stack=[{name:"width",handler:function(c){n={el:c};if(!b(n.el).data("mutate-width")){b(n.el).data("mutate-width",b(n.el).width())}if(b(n.el).data("mutate-width")&&b(n.el).width()!=b(n.el).data("mutate-width")){b(n.el).data("mutate-width",b(n.el).width());return true}return false}},{name:"height",handler:function(c){element=c;if(!b(element).data("mutate-height")){b(element).data("mutate-height",b(element).height())}if(b(element).data("mutate-height")&&b(element).height()!=b(element).data("mutate-height")){b(element).data("mutate-height",b(element).height());return true}}},{name:"top",handler:function(c){if(!b(c).data("mutate-top")){b(c).data("mutate-top",b(c).css("top"))}if(b(c).data("mutate-top")&&b(c).css("top")!=b(c).data("mutate-top")){b(c).data("mutate-top",b(c).css("top"));return true}}},{name:"bottom",handler:function(c){if(!b(c).data("mutate-bottom")){b(c).data("mutate-bottom",b(c).css("bottom"))}if(b(c).data("mutate-bottom")&&b(c).css("bottom")!=b(c).data("mutate-bottom")){b(c).data("mutate-bottom",b(c).css("bottom"));return true}}},{name:"right",handler:function(c){if(!b(c).data("mutate-right")){b(c).data("mutate-right",b(c).css("right"))}if(b(c).data("mutate-right")&&b(c).css("right")!=b(c).data("mutate-right")){b(c).data("mutate-right",b(c).css("right"));return true}}},{name:"left",handler:function(c){if(!b(c).data("mutate-left")){b(c).data("mutate-left",b(c).css("left"))}if(b(c).data("mutate-left")&&b(c).css("left")!=b(c).data("mutate-left")){b(c).data("mutate-left",b(c).css("left"));return true}}},{name:"hide",handler:function(c){if(b(c).is(":hidden")){return true}}},{name:"show",handler:function(c){if(b(c).is(":visible")){return true}}},{name:"scrollHeight",handler:function(c){if(!b(c).data("prev-scrollHeight")){b(c).data("prev-scrollHeight",b(c)[0].scrollHeight)}if(b(c).data("prev-scrollHeight")&&b(c)[0].scrollHeight!=b(c).data("prev-scrollHeight")){b(c).data("prev-scrollHeight",b(c)[0].scrollHeight);return true}}},{name:"scrollWidth",handler:function(c){if(!b(c).data("prev-scrollWidth")){b(c).data("prev-scrollWidth",b(c)[0].scrollWidth)}if(b(c).data("prev-scrollWidth")&&b(c)[0].scrollWidth!=b(c).data("prev-scrollWidth")){b(c).data("prev-scrollWidth",b(c)[0].scrollWidth);return true}}},{name:"scrollTop",handler:function(c){if(!b(c).data("prev-scrollTop")){b(c).data("prev-scrollTop",b(c)[0].scrollTop())}if(b(c).data("prev-scrollTop")&&b(c)[0].scrollTop()!=b(c).data("prev-scrollTop")){b(c).data("prev-scrollTop",b(c)[0].scrollTop());return true}}},{name:"scrollLeft",handler:function(c){if(!b(c).data("prev-scrollLeft")){b(c).data("prev-scrollLeft",b(c)[0].scrollLeft())}if(b(c).data("prev-scrollLeft")&&b(c)[0].scrollLeft()!=b(c).data("prev-scrollLeft")){b(c).data("prev-scrollLeft",b(c)[0].scrollLeft());return true}}}];mutate={speed:1,event_stack:mutate_event_stack,stack:[],events:{},add_event:function(c){mutate.events[c.name]=c.handler},add:function(e,c,f,d){mutate.stack[mutate.stack.length]={event_name:e,selector:c,callback:f,false_callback:d}}};function a(){var c=mutate;if(c.event_stack!="undefined"&&c.event_stack.length){b.each(c.event_stack,function(e,d){mutate.add_event(d)})}c.event_stack=[];b.each(c.stack,function(d,e){b(e.selector).each(function(g,f){if(c.events[e.event_name](f)===true){if(e.callback){e.callback(f,e)}}else{if(e.false_callback){e.false_callback(f,e)}}})});setTimeout(a,mutate.speed)}a();b.fn.extend({mutate:function(){var e=false,f=arguments[1],c=this,d=arguments[2]?arguments[2]:function(){};if(arguments[0].toLowerCase()=="extend"){mutate.add_event(f);return this}b.each(b.trim(arguments[0]).split(" "),function(g,h){e=h;mutate.add(e,c,f,d)});return this}})})(jQuery);!function(c){var d={placement:"bottom",trigger:"click",popTarget:null,html:true,tip:false,container:"body",contentTarget:null,cloneContentTarget:false,href:"",content:"",activeClass:"active",width:"auto",maxWidth:"auto",minWidth:"auto",height:"auto",maxHeight:"auto",minHeight:"auto",template:function(){var f=this.type;return'<div class="'+f+'"><div class="arrow"></div><div class="'+f+'-content"></div></div>'}};var b=function(g,f){this.init("pophelper",g,f)};c("body").on("mousedown",".pophelper",function(f){f.stopPropagation()});var e={constructor:b,getOption:function(h,f){var g=this.options[h];if(!g){g=f}return g},setupGlobalEvents:function(){var g=this.$element,f=this;c(window).bind("resize  mousedown",function(h){if(h.type=="mousedown"&&h.target&&c(h.target).hasClass(f.type+"-toggle")){return}if(f.tip().is(".in")){f.hide()}});c(g).bind("click mousedown mouseover focus",function(h){h.stopPropagation()});if(c(g).is("button,a")){c(g).bind("click",function(h){h.preventDefault()})}},eventTrigger:function(f){var h=c.Event(this.type+"."+f),g=this.$element;g.trigger(h);return h},setupElement:function(){this.$element.addClass(this.type+"-toggler");this.eventTrigger("before.setup")},show:function(){var i=c.fn.tooltip.Constructor.prototype.show;var g=this.$element,h=this.getOption("activeClass","active");g.addClass(h);var f=this;i.call(f)},hide:function(){var g=c.fn.tooltip.Constructor.prototype.hide;var h=this.$element,i=this.getOption("activeClass","active");h.removeClass(i);var f=this;g.call(f)},setupTooltip:function(){var f=this,h;if(h=f.getOption("tip")){var g=f.getOption("placement");if(g=="top"||g=="bottom"){g=(g=="top"?"bottom":"top")}else{if(g=="left"||g=="right"){g=(g=="left"?"right":"left")}}f.$element.tooltip({title:h,placement:g})}},init:function(k,h,o){var j=c.fn.tooltip.Constructor.prototype.init;this.type=k;this.$element=c(h);this.setupElement();this.options=this.getOptions(o);this.setupGlobalEvents();var m=this,f=this.getOption("href",""),l=this.getOption("load",""),i=this.getOption("contentTarget","");var g=function(){j.call(m,k,h,o);m.setupTooltip();m.eventTrigger("after.setup")};if(f){jQuery.ajax({url:f,type:"GET",cache:true,dataType:"html"}).success(function(p){g();o.content=m.options.content=p}).error(function(){g()});return}else{if(i&&c(i).length){g();o.content=m.options.content=m.options.cloneContentTarget?c(i).clone():c(i);return}}g()},getPosition:function(){var f=this.$element[0];var g=this.getOption("popTarget");if(g){f=c(g)[0]}return c.extend({},(typeof f.getBoundingClientRect=="function")?f.getBoundingClientRect():{width:f.offsetWidth,height:f.offsetHeight},c(f).offset())},setContent:function(){var j=this.tip(),i=this.getTitle(),g=this.getContent();if(i){var f=j.find("."+this.type+"-title");if(!f.length){f=c('<div class="'+this.type+'-title"></div>').prependTo(j)}f.html(i)}var h=j.find("."+this.type+"-content");if(g instanceof jQuery){h.append(g.removeClass("hide").show())}else{h[this.options.html?"html":"text"](g)}j.removeClass("fade top bottom left right in")},hasContent:function(){return true},getContent:function(){var g,f=this.$element,h=this.options;g=(typeof h.content=="function"?h.content.call(f[0]):h.content)||f.attr("data-content");return g},refreshPosition:function(){var j,o,l,f,k,g,m;j=this.tip();if(!j.hasClass("in")){return}o=j.find(".arrow");var h=o.outerHeight(true)||0;var i=o.outerWidth(true)||0;g=typeof this.options.placement=="function"?this.options.placement.call(this,j[0],this.$element[0]):this.options.placement;l=this.getPosition();f=j[0].offsetWidth;k=j[0].offsetHeight;switch(g){case"bottom":m={top:l.top+l.height+h,left:l.left+l.width/2-f/2};break;case"top":m={top:l.top-k-h,left:l.left+l.width/2-f/2};break;case"left":m={top:l.top+l.height/2-k/2,left:l.left-f-i};break;case"right":m={top:l.top+l.height/2-k/2,left:l.left+l.width+i};break}this.applyPlacement(m,g)},buildTip:function(){var g=this;this.$tip=c(this.options.template.call(this)).addClass(this.type);$tip=this.$tip;var h=["width","height","minWidth","maxWidth","minHeight","maxHeight"];c.each(h,function(k,j){var l=g.getOption(j,null);if(l&&l!="auto"){$tip.css(j,parseInt(l)+"px")}});var i=this.getTitle();var f=$tip.find("."+this.type+"-title");if(i){if(!f.length){f=c('<div class="'+this.type+'-title"></div>').prependTo($tip)}}c('<button type="button" class="close">&times;</button>').prependTo(this.$tip).click(function(){g.hide()});this.$tip.mutate("height width",function(j,k){g.refreshPosition()});this.$element.one("shown",function(){var j=g.$tip.outerWidth();g.$tip.css("width",g.$tip.outerWidth()+"px")})},tip:function(){if(!this.$tip){this.buildTip()}return this.$tip},toggle:function(g){var f=g?c(g.currentTarget)[this.type](this._options).data(this.type):this;f.tip().hasClass("in")?f.hide():f.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};b.prototype=c.extend({},c.fn.tooltip.Constructor.prototype,e);var a=c.fn.pophelper;c.fn.pophelper=function(f){return this.each(function(){var i=c(this),h=i.data("pophelper"),g=typeof f=="object"&&f;if(!h){i.data("pophelper",(h=new b(this,g)))}if(typeof f=="string"){if(c.isFunction(h[f])){h[f]()}}})};c.fn.pophelper.Constructor=b;c.fn.pophelper.defaults=c.extend({},c.fn.tooltip.defaults,d);c.fn.pophelper.noConflict=function(){c.fn.pophelper=a;return this}}(window.jQuery);