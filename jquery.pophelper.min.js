!function(c){var d={placement:"bottom",trigger:"click",popTarget:null,html:true,tip:false,contentTarget:null,href:"",content:"",activeClass:"active",width:"auto",maxWidth:"auto",minWidth:"auto",height:"auto",maxHeight:"auto",minHeight:"auto",template:function(){var e=this.type;return'<div class="'+e+'"><div class="arrow"></div><div class="'+e+'-content"></div></div>'}};var b=function(f,e){this.init("pophelper",f,e)};c("body").on("mousedown",".pophelper",function(e){e.stopPropagation()});b.prototype=c.extend({},c.fn.tooltip.Constructor.prototype,{constructor:b,getOption:function(g,e){var f=this.options[g];if(!f){f=e}return f},setupGlobalEvents:function(){var f=this.$element,e=this;c(window).bind("resize  mousedown",function(){if(e.tip().is(".in")){e.hide()}});c(f).bind("click mousedown mouseover focus",function(g){g.stopPropagation()});if(c(f).is("button,a")){c(f).bind("click",function(g){g.preventDefault()})}},setupElement:function(){var g=c.Event("elementSetup"),f=this.$element;f.trigger(g);if(g.isDefaultPrevented()){return}f.addClass(this.type+"-toggler")},show:function(){var h=c.fn.tooltip.Constructor.prototype.show;var f=this.$element,g=this.getOption("activeClass","active");f.addClass(g);var e=this;h.call(e)},hide:function(){var f=c.fn.tooltip.Constructor.prototype.hide;var g=this.$element,h=this.getOption("activeClass","active");g.removeClass(h);var e=this;f.call(e)},setupTooltip:function(){var e=this,g;if(g=e.getOption("tip")){var f=e.getOption("placement");if(f=="top"||f=="bottom"){f=(f=="top"?"bottom":"top")}else{if(f=="left"||f=="right"){f=(f=="left"?"right":"left")}}console.log(f);e.$element.tooltip({title:g,placement:f});console.log(e.$element.data())}},init:function(j,g,m){var i=c.fn.tooltip.Constructor.prototype.init;this.type=j;this.$element=c(g);this.setupElement();this.options=this.getOptions(m);this.setupGlobalEvents();var l=this,e=this.getOption("href",""),k=this.getOption("load",""),h=this.getOption("contentTarget","");var f=function(){i.call(l,j,g,m);l.setupTooltip()};if(e){jQuery.ajax({url:e,type:"GET",cache:true,dataType:"html"}).success(function(n){f();m.content=l.options.content=n}).error(function(){f()});return}else{if(h&&c(h).length){f();m.content=l.options.content=c(h);console.log(m.content);return}}f()},getPosition:function(){var e=this.$element[0];var f=this.getOption("popTarget");if(f){e=c(f)[0]}return c.extend({},(typeof e.getBoundingClientRect=="function")?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},c(e).offset())},setContent:function(){var i=this.tip(),h=this.getTitle(),f=this.getContent();if(h){var e=i.find("."+this.type+"-title");if(!e.length){e=c('<div class="'+this.type+'-title"></div>').prependTo(i)}e.html(h)}var g=i.find("."+this.type+"-content");if(f instanceof jQuery){console.log("jQuery");g.append(f.removeClass("hide").show())}else{g[this.options.html?"html":"text"](f)}i.removeClass("fade top bottom left right in")},hasContent:function(){return true},getContent:function(){var f,e=this.$element,g=this.options;f=(typeof g.content=="function"?g.content.call(e[0]):g.content)||e.attr("data-content");return f},buildTip:function(){var f=this;this.$tip=c(this.options.template.call(this)).addClass(this.type);$tip=this.$tip;var g=["width","height","minWidth","maxWidth","minHeight","maxHeight"];c.each(g,function(k,j){var l=f.getOption(j,null);if(l&&l!="auto"){$tip.css(j,parseInt(l)+"px")}});var h=this.getTitle();var e=$tip.find("."+this.type+"-title");if(h){if(!e.length){e=c('<div class="'+this.type+'-title"></div>').prependTo($tip)}}c('<button type="button" data-dismiss="'+this.type+'" class="close">&times;</button>').prependTo(this.$tip).click(function(){f.hide()})},tip:function(){if(!this.$tip){this.buildTip()}return this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var a=c.fn.pophelper;c.fn.pophelper=function(e){return this.each(function(){var h=c(this),g=h.data("pophelper"),f=typeof e=="object"&&e;if(!g){h.data("pophelper",(g=new b(this,f)))}if(typeof e=="string"){g[e]()}})};c.fn.pophelper.Constructor=b;c.fn.pophelper.defaults=c.extend({},c.fn.tooltip.defaults,d);c.fn.pophelper.noConflict=function(){c.fn.pophelper=a;return this}}(window.jQuery);